<div class="calendar-container">
    <!-- Cabecera del calendario -->
    <div class="calendar-header">
        <button (click)="prevMonth()">❮</button>
        <span>{{ months[currentMonth] }} {{ currentYear }}</span>
        <button (click)="nextMonth()">❯</button>
    </div>

    <!-- Días del mes -->
    <div class="calendar-days">
        <!-- Espacios vacíos al inicio para alinear correctamente -->
        <div *ngFor="let _ of emptyStartDays" class="calendar-day empty"></div>

        <!-- Días del mes -->
        <div *ngFor="let day of daysInCurrentMonth" [class.has-session]="day.hasSession" class="calendar-day"
            (click)="selectSession(day)">
            {{ day.number }}
        </div>

    </div>
</div>

<!-- MODAL -->
<div class="modal-overlay" *ngIf="selectedSession" (click)="closeSessionDetails()">
    <div class="modal" (click)="$event.stopPropagation()">
        <button class="close-btn" (click)="closeSessionDetails()">&times;</button>
        <h4>{{ selectedSession.date }}</h4>

        <ng-container *ngIf="selectedSession.book; else noSession">
            <p><strong>Libro:</strong> {{ selectedSession.book }}</p>
            <p><strong>Duración:</strong> {{ selectedSession.duration }}</p>
            <p><strong>Páginas leídas:</strong> {{ selectedSession.pages }}</p>
            <p><strong>Notas:</strong> {{ selectedSession.notes }}</p>
        </ng-container>

        <ng-template #noSession>
            <p>No hay ninguna sesión registrada este día.</p>
        </ng-template>
    </div>
</div>